<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="csrf-token" content="Ad5LcEgcHdv6T0UCtMHQ3ua628FWRxgNdeC5aZYx" />
      <link rel="apple-touch-icon" sizes="57x57" href="https://www.onesourcesuppliers.com/assets/img/favicon2/apple-icon-57x57.png">
      <link rel="apple-touch-icon" sizes="60x60" href="https://www.onesourcesuppliers.com/assets/img/favicon2/apple-icon-60x60.png">
      <link rel="apple-touch-icon" sizes="72x72" href="https://www.onesourcesuppliers.com/assets/img/favicon2/apple-icon-72x72.png">
      <link rel="apple-touch-icon" sizes="76x76" href="https://www.onesourcesuppliers.com/assets/img/favicon2/apple-icon-76x76.png">
      <link rel="apple-touch-icon" sizes="114x114" href="https://www.onesourcesuppliers.com/assets/img/favicon2/apple-icon-114x114.png">
      <link rel="apple-touch-icon" sizes="120x120" href="https://www.onesourcesuppliers.com/assets/img/favicon2/apple-icon-120x120.png">
      <link rel="apple-touch-icon" sizes="144x144" href="https://www.onesourcesuppliers.com/assets/img/favicon2/apple-icon-144x144.png">
      <link rel="apple-touch-icon" sizes="152x152" href="https://www.onesourcesuppliers.com/assets/img/favicon2/apple-icon-152x152.png">
      <link rel="apple-touch-icon" sizes="180x180" href="https://www.onesourcesuppliers.com/assets/img/favicon2/apple-icon-180x180.png">
      <link rel="icon" type="image/png" sizes="192x192"  href="https://www.onesourcesuppliers.com/assets/img/favicon2/android-icon-192x192.png">
      <link rel="icon" type="image/png" sizes="32x32" href="https://www.onesourcesuppliers.com/assets/img/favicon2/favicon-32x32.png">
      <link rel="icon" type="image/png" sizes="96x96" href="https://www.onesourcesuppliers.com/assets/img/favicon2/favicon-96x96.png">
      <link rel="icon" type="image/png" sizes="16x16" href="https://www.onesourcesuppliers.com/assets/img/favicon2/favicon-16x16.png">
      <link rel="manifest" href="https://www.onesourcesuppliers.com/assets/img/favicon2/manifest.json">
      <meta name="msapplication-TileColor" content="#ffffff">
      <meta name="msapplication-TileImage" content="https://www.onesourcesuppliers.com/assets/img/favicon2/ms-icon-144x144.png">
      <meta name="theme-color" content="#ffffff">
      <title>One Source Suppliers</title>
      <!-- Font CSS (Via CDN) -->
      <link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,800'>
      <link href="https://www.onesourcesuppliers.com/css/jquery.autocompleter.css" rel="stylesheet">
      <!-- <link rel="stylesheet" type="text/css" href="https://www.onesourcesuppliers.com/template_assets/vendor/plugins/datatables/css/datatables.min.css"> -->
      <link rel="stylesheet" type="text/css" href="https://www.onesourcesuppliers.com/template_assets/vendor/plugins/datatables/extras/TableTools/media/css/TableTools.css">
      <!-- <link rel="stylesheet" type="text/css" href="https://www.onesourcesuppliers.com/css/vendor/editors/xeditable/bootstrap-editable.css"> -->
      <link href="https://www.onesourcesuppliers.com/template_assets/vendor/editors/xeditable/css/bootstrap-editable.css" rel="stylesheet">
      <!--<link href="https://www.onesourcesuppliers.com/css/app.css" rel="stylesheet">-->
      <!--<link href="https://www.onesourcesuppliers.com/css/bootstrap.min.css" rel="stylesheet">-->
      <link href="https://www.onesourcesuppliers.com/template_assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
      <link href="https://www.onesourcesuppliers.com/template_assets/vendor/editors/xeditable/css/select2.min.css" rel="stylesheet">
      <link href="https://www.onesourcesuppliers.com/css/vendor/plugins/jquery.gritter.css" rel="stylesheet">
      <link href="https://www.onesourcesuppliers.com/css/vendor.css" rel="stylesheet">
      <link href="https://www.onesourcesuppliers.com/css/admin/theme.css" rel="stylesheet">
      <link href="https://www.onesourcesuppliers.com/css/utility.css" rel="stylesheet">
      <link id="galleria-theme" rel="stylesheet" href="https://www.onesourcesuppliers.com/template_assets/vendor/plugins/galleria/themes/classic/galleria.classic.css">
      <link href="https://www.onesourcesuppliers.com/css/followbox.css" rel="stylesheet">
      <link href="https://www.onesourcesuppliers.com/css/print.min.css" rel="stylesheet">
      <link href="https://www.onesourcesuppliers.com/css/admin/custom.css?v9" rel="stylesheet">
      <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
      <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
      <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
      <![endif]-->
      <!-- Basic, universally applicable JS includes-->
      <script src="https://www.onesourcesuppliers.com/js/jquery-2.1.3.min.js"></script>
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/vendor/jquery/jquery_ui/jquery-ui.min.js"></script> <!-- Bootstrap -->
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/vendor/bootstrap/js/bootstrap.min.js"></script>
      <!-- Dirty form detection -->
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/js/jquery.dirty.js"></script>
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.1.0/css/font-awesome.css">
      <link rel="stylesheet" href="css/new-styles.css">
   </head>
   <body>
      <div class="admin-body-container container-fluid">
         <script> //var boxtest = localStorage.getItem('boxed'); if (boxtest === 'true') {document.body.className+=' boxed-layout';} </script>
         <nav class="navbar navbar-default">
            <div class="container-fluid">
               <!-- Brand and toggle get grouped for better mobile display -->
               <div class="navbar-header">
                  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button>
                  <a class="navbar-brand" href="/admin">One Source</a> 
               </div>
               <!-- Collect the nav links, forms, and other content for toggling -->
               <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                  <ul class="nav navbar-nav">
                     <li class="active"><a href="/admin">Dashboard <span class="sr-only">Dashboard</span></a></li>
                     <li><a href="/">Storefront</a></li>
                     <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Inventory <span class="caret"></span></a>
                        <ul class="dropdown-menu">
                           <li><a class="ajax-disable" href="/vendors">Vendors</a></li>
                           <li><a class="ajax-disable" href="/inventory_warehouses">Warehouses</a></li>
                           <li><a class="ajax-disable" href="/purchase_order_payment_terms">Payment Terms </a></li>
                           <li><a class="ajax-disable" href="/purchase_order_shipping_methods">Shipping Methods </a></li>
                           <li><a class="ajax-disable" href="/purchase_orders">Purchase Orders </a></li>
                           <li><a class="ajax-disable" href="/inventory_receiving_records">Receiving </a></li>
                        </ul>
                     </li>
                     <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Accounting <span class="caret"></span></a>
                        <ul class="dropdown-menu">
                           <li><a class="ajax-enable" href="/credits">Credits </a></li>
                           <li><a class="ajax-disable" href="/commission">Commission</a></li>
                           <li><a class="ajax-disable" href="/client_commissions_queue">Client Commissions</a></li>
                           <li><a class="ajax-disable" href="/bills">Bills </a></li>
                           <li><a class="ajax-disable" href="/payment_center">Payment Center</a></li>
                           <li><a class="ajax-disable" href="/aging_report">Aging Report</a></li>
                           <li><a class="ajax-disable" href="/statement">Statements</a></li>
                           <li><a class="ajax-disable" href="vendor-payment-center.html">Vendor Payment Center</a></li>
                           <!--<li class="divider"></li>
                              <li><a class="ajax-enable" href="/credits">Credits </a></li>
                              <li class="divider"></li>
                              <li><a class="ajax-enable" href="/accounting_sync_log">Sync Log </a></li>-->
                        </ul>
                     </li>
                     <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Catalog <span class="caret"></span></a>
                        <ul class="dropdown-menu">
                           <!--<li class="divider"></li>
                              <li><a class="ajax-enable" href="/product_rules">Product Rules</a></li>--> 
                           <li><a class="ajax-enable" href="/categories">Categories</a></li>
                           <!--<li class="divider"></li>
                              <li><a class="ajax-enable" href="/options">Options</a></li>-->
                           <li><a class="ajax-disable" href="/features">Features</a></li>
                           <li><a class="ajax-disable" href="/menus">Menus </a></li>
                           <li><a class="ajax-disable" href="/pages">Pages </a></li>
                           <li><a class="ajax-disable" href="/manufacturers">Manufacturers</a></li>
                           <!-- <li><a class="ajax-enable" href="/shipping_methods">Shipping Methods</a></li> -->
                           <li><a class="ajax-disable" href="/products">Products </a></li>
                           <li><a class="ajax-disable" href="/product_locations">Product Locations </a></li>
                           <li><a class="ajax-disable" href="/email_composer">Email Composer</a></li>
                        </ul>
                     </li>
                     <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Sales <span class="caret"></span></a>
                        <ul class="dropdown-menu">
                           <li><a class="ajax-disable" href="/orders">Orders</a></li>
                           <li><a class="ajax-disable" href="/ship">Packer Shipping Center</a></li>
                        </ul>
                     </li>
                     <li><a class="ajax-disable" href="/product_locations">Product Locations</a></li>
                     <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                        RMA 
                        <span class="caret"></span></a>
                        <ul class="dropdown-menu">
                           <li><a class="ajax-disable" href="/rma">Manage <span class="sr-only">Manage</span></a></li>
                           <li><a class="ajax-disable" href="/rma_processing">Processing Center <span class="sr-only">Processing Center</span></a></li>
                           <li><a class="ajax-disable" href="/rma_report">Report <span class="sr-only">Report</span></a></li>
                        </ul>
                     </li>
                     <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Reports <span class="caret"></span></a>
                        <ul class="dropdown-menu">
                           <li><a class="ajax-disable" href="/items_sold">Items Sold</a></li>
                           <li><a class="ajax-disable" href="/inventory_report">Inventory</a></li>
                           <li><a class="ajax-disable" href="/stock_monitor">Stock Monitor</a></li>
                        </ul>
                     </li>
                  </ul>
                  <ul class="nav navbar-nav navbar-right">
                     <li><a>Hi Shusanto</a></li>
                     <li><a href="/users/2666">Profile</a></li>
                     <li><a href="https://www.onesourcesuppliers.com/auth/logout">Sign Out</a></li>
                     <!-- Clean up this inline and follow-box sh*t
                        <div class="btn-group" id="comment_menu">
                           <a class="dropdown-toggle" data-toggle="dropdown" title="Notepad"  onclick="togglefollowBoxGrowth(this);"><b id="notepad-note-count" style="display:none;">0</b> Notepad</a>
                           <div class="dropdown-menu" role="menu" style="width:450px;">
                              <div class="followbox-content pn dropdown-persist">
                                 <div id="notes"></div>
                              </div>
                            </div>
                        </div>
                                       --> 
                  </ul>
               </div>
               <!-- /.navbar-collapse --> 
            </div>
            <!-- /.container-fluid --> 
         </nav>
         <!-- Start: Main -->
         <div id="main">
            <!-- Start: Content -->
            <section id="content_wrapper">
               <div id="content_wrapper_inner">
                  <div class="row">
                     <div class="col-md-6">
                        <ol class="breadcrumb">
                           <li><a href="/admin">Dashboard</a></li>
                           <li>Payment Center</li>
                           <li class="active">New Vendor Payment</li>
                        </ol>
                     </div>
                     <div class="col-md-6">
                        <div class="text-right">
                        </div>
                     </div>
                  </div>
                  <div id="content">
                     <div class="row custom-background-grey m5">
                        <div class="col-lg-12 col-xl-offset-1 col-xl-10">
                           <div id="payment_center_tool_container">
                              <div class="row mt25">
                                 <div class="col-sm-6 pln prn">
                                    <div class="col-sm-12">
                                       <div class="col-sm-6">
                                          <label for="payment-for-company-select">Vendor</label>
                                          <div>
                                             <select id="payment-for-company-select" name="payment_for_company_id" class="multiselect-small-with-filter rebuild-on-change">
                                                <option value="">- Select A Vendor -</option>
                                                <option value="1" >Vendor Name one</option>
                                                <option value="2" >Vendor Name two</option>
                                                <option value="3" >Vendor Name three</option>
                                             </select>
                                          </div>
                                       </div>
                                    </div>
                                    <div class="col-sm-12 mt15">
                                       <div class="col-sm-4">
                                          <label for="payment-method-type-select">Payment Method</label>
                                          <div>
                                             <select id="payment-method-type-select" class="multiselect-small" name="payment_method_type_select">
                                                <option value="">- Select A Payment Method -</option>
                                                <!--<option value="location_defaults"> Location Defaults </option>-->
                                                <option value="ach_8297"> ACH 8297 </option>
                                                <option value="ach_8170"> ACH 8170 </option>
                                                <option value="credit_card"> Credit Card </option>
                                                
                                             </select>
                                          </div>
                                       </div>
                                    </div>
                                    <div class="col-sm-12 mt15">
                                       <div class="col-sm-10  col-md-8 ">
                                          <input type="hidden" id="payment_method_id_tracker" name="payment_method_id">
                                          <div id="default-payment-method-inputs" class="payment-method-inputs" style="display:none;">
                                             <label for="reference-number">Reference Number</label>
                                             <input id="reference-number" class="form-control input-sm" type="text" name="reference_number" placeholder="Ref/Check No.">
                                          </div>
                                          <div id="credit_card-payment-method-inputs" class="payment-method-inputs" style="display:none;">
                                             <div class="panel">
                                                <div class="panel-heading panel-visible">
                                                   <span class="panel-title pull-left">Credit Card</span>
                                                   <div class="panel-header-menu mr10">
                                                   </div>
                                                </div>
                                                <div class="panel-body">
                                                   <div class="row">
                                                      <div id="credit_card_payment_method_details_container" class="col-sm-12 payment_method_details_container">
                                                         <center>
                                                            <h4>Please select a Payment Method</h4>
                                                         </center>
                                                      </div>
                                                   </div>
                                                   <div class="row">
                                                      <div class="col-sm-12">
                                                         <div class="mbn mt15 well pt5 pb5">
                                                            <input id="include-cc-surcharge" class="mr5" type="checkbox" name="include_cc_surcharge" checked="checked"/>
                                                            <label for="include-cc-surcharge" class=""><small> Include Credit Card Surcharge (3%) </small></label>
                                                         </div>
                                                      </div>
                                                   </div>
                                                </div>
                                             </div>
                                          </div>
                                          <div id="debit_card-payment-method-inputs" class="payment-method-inputs" style="display:none;">
                                             <div class="panel">
                                                <div class="panel-heading panel-visible">
                                                   <span class="panel-title pull-left">Debit Card</span>
                                                   <div class="panel-header-menu mr10">
                                                   </div>
                                                </div>
                                                <div class="panel-body">
                                                   <div class="row">
                                                      <div id="debit_card_payment_method_details_container" class="col-sm-12 payment_method_details_container">
                                                         <center>
                                                            <h4>Please select a Payment Method</h4>
                                                         </center>
                                                      </div>
                                                   </div>
                                                </div>
                                             </div>
                                          </div>
                                          <div id="ach-payment-method-inputs" class="payment-method-inputs" style="display:none;">
                                             <div class="panel">
                                                <div class="panel-heading panel-visible">
                                                   <span class="panel-title pull-left">ACH </span>
                                                   <div class="panel-header-menu mr10">
                                                   </div>
                                                </div>
                                                <div class="panel-body">
                                                   <div class="row">
                                                      <div id="ach_payment_method_details_container" class="col-sm-12 payment_method_details_container">
                                                         <center>
                                                            <h4>Please select a Payment Method</h4>
                                                         </center>
                                                      </div>
                                                   </div>
                                                </div>
                                             </div>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                                 <div class="col-sm-6 pln prn">
                                    <div class="col-sm-12">
                                       <div class="text-right col-sm-12">
                                          <!--<strong>Credit ID# 00000</strong>-->
                                       </div>
                                    </div>
                                    <div class="col-sm-12 pt10">
                                       <div class="col-sm-6 col-md-4 col-md-offset-3 col-xl-offset-4">
                                          <label for="show_orders_from">Show Orders From</label>
                                          <input id="show_orders_from" class="form-control input-sm" type="text" name="show_orders_from" placeholder="mm/dd/yy" value="" autocomplete="off">
                                       </div>
                                       <div class="col-sm-6 col-md-4 pull-right">
                                          <label for="show_orders_to">To</label>
                                          <input id="show_orders_to" class="form-control input-sm" type="text" name="show_orders_to" placeholder="mm/dd/yy" autocomplete="off">
                                       </div>
                                    </div>
                                    <div class="col-sm-12 pt10">
                                       <div class="col-sm-6 col-md-4 col-md-offset-3 col-xl-offset-4">
                                          <label for="apply-on">To Be Applied On</label>
                                          <input id="apply-on" class="form-control input-sm" type="text" name="apply_on" placeholder="mm/dd/yy" value="" autocomplete="off">
                                       </div>
                                       <div class="col-sm-6 col-md-4 pull-right">
                                          <label for="amount_input">Amount</label>
                                          <input id="amount_input" class="form-control input-sm add-commas" type="text" name="amount" placeholder="0.00">
                                       </div>
                                    </div>
                                    <div class="col-sm-12 pt10 mt5">
                                       <div class="col-sm-6 pull-right">
                                          <div class="text-right">
                                             <b><small>Display Total Balance:</small></b> 
                                             <span class="ml10">
                                             $0.00 
                                             </span>
                                             <span class="ml10">   
                                             <input id="show-total-balance-checkbox" type="checkbox" name="show_total_balance" class="pull-right toggle-shown-orders-radio" checked="checked">
                                             </span>
                                          </div>
                                       </div>
                                    </div>
                                    <div class="col-sm-12 pt10 mt5">
                                       <div class="col-sm-6 pull-right">
                                          <div class="text-right">
                                             <b><small>Display Total Past Due:</small></b> 
                                             <span class="ml10">
                                             $0.00 
                                             </span>
                                             <span class="ml10">   
                                             <input id="show-past-due-checkbox" type="checkbox" name="show_past_due" class="pull-right toggle-shown-orders-radio">
                                             </span>
                                          </div>
                                       </div>
                                    </div>
                                    <div class="col-sm-12 pt10 mt5">
                                       <div class="col-sm-6 pull-right">
                                          <div class="text-right">
                                             <b>Credit: </b> 
                                             <span class="ml10">
                                             $0.00 
                                             </span>
                                             <span class="ml10">   
                                             <input type="checkbox" style="visibility:hidden" class="pull-right"/>
                                             </span>
                                          </div>
                                       </div>
                                    </div>
                                    <div class="col-sm-12 pt15">
                                       <div class="col-sm-4 col-md-3 pull-right">
                                          <a href="javascript:void(0)" class="btn bg-blue3 bg-gradient btn-sm pull-right mb10 make-payment">Make Payment</a>
                                       </div>
                                    </div>
                                    <div class="col-sm-12 pt10">
                                       <div id="deposit-account-text-to-input" class="col-sm-7">
                                          <div class="col-sm-6 pr5">
                                             <label for="deposit-to-account" class="pull-right">Deposit To: </label>
                                          </div>
                                          <div class="col-sm-6 pln">
                                             <span id="deposit-to-accounts-text" class="pull-left">Default Accounts</span>
                                             <select id="deposit-to-accounts-select" name="deposit_to_accounts" class="input-sm pull-left form-control" style="display:none;" onclick="$(this).addClass('open');">
                                                <option value="">Default Accounts</option>
                                                <option value="1100">1100 - One Source - Op</option>
                                                <option value="UD-FUNDS">Undeposited Funds</option>
                                                <option value="UD-CC">Undeposited Credit Cards</option>
                                                <option value="UD-ACH">Undeposited ACH</option>
                                             </select>
                                          </div>
                                       </div>
                                       <div class="col-sm-5 pull-right">
                                          <input id="csv-invoice-numbers" class="form-control input-sm" type="text" name="csv_invoice_numbers" placeholder="Enter Invoice #'s (CSV)">
                                       </div>
                                    </div>
                                 </div>
                              </div>
                              <script>
                                 function textToInput(text_element_id, input_element_id)
                                 {
                                 	$('#'+text_element_id).hide(); 
                                 	$('#'+input_element_id).show();
                                 }
                                 
                                 function inputToText(text_element_id, input_element_id)
                                 {
                                 	if($('#'+input_element_id).is('input'))
                                 	{
                                 		$('#'+text_element_id).html($('#'+input_element_id).val());
                                 		$('#'+text_element_id).show(); 
                                 		$('#'+input_element_id).hide();
                                 	}
                                 	else
                                 	{
                                 		if($('#'+input_element_id).hasClass('open'))
                                 		{
                                 			$('#'+input_element_id).focusout(function(){
                                 				$('#'+text_element_id).html($('#'+input_element_id+' option:selected').text());
                                 				$('#'+text_element_id).show(); 
                                 				$('#'+input_element_id).hide();
                                 				$('#'+input_element_id).removeClass('open');
                                 			});
                                 		}
                                 		else
                                 		{
                                 			$('#'+text_element_id).html($('#'+input_element_id+' option:selected').text());
                                 			$('#'+text_element_id).show(); 
                                 			$('#'+input_element_id).hide();
                                 		}
                                 	}
                                 }
                                 
                                 
                                 function paymentMethodOrderDetailQuickAddRoutine(data)
                                 {
                                 	console.log(data);
                                 	
                                 	$('#credit_card-payment-method-inputs select.payment-method-select').append('<option value="'+data.payment_method_id+'">'+data.payment_method_name+'</option>');
                                 	$('#credit_card-payment-method-inputs select.payment-method-select').val(data.payment_method_id);
                                 	$('#credit_card-payment-method-inputs select.payment-method-select').multiselect('rebuild');
                                 	$('#credit_card-payment-method-inputs select.payment-method-select').trigger('change');
                                 	
                                 }
                                 
                                 $(function (){
                                 	
                                 	
                                 	$('#payment-method-type-select').on('change', function () {
                                 		$('.payment-method-inputs').hide();
                                 		
                                 		if($('#'+$(this).val()+'-payment-method-inputs').length)
                                 		{
                                 			$('#'+$(this).val()+'-payment-method-inputs').show();
                                 		}
                                 		else if($(this).val() != '')
                                 		{
                                 			$('#default-payment-method-inputs').show()
                                 		}
                                 	});
                                 	
                                 	$('.payment-method-select').on('change', function () {
                                 		
                                 		$('#payment_method_id_tracker').val($(this).val());
                                 		
                                 		//processAjax('content', 'payment_center_inject?area=A');
                                 	});
                                 	
                                 	$('.add-commas').on('keyup', function(){
                                 		$(this).val(addCommas($(this).val().replace(/,/g, '')));
                                 	});
                                 	
                                 	$('#csv-invoice-numbers').on('blur', function(){
                                 		//processAjax('content', 'payment_center_rebuilder?table_only=true&area=A');
                                 	});
                                 	
                                 	$('#show_orders_from, #show_orders_to').on('blur', function(){
                                 		//processAjax('content', 'payment_center_rebuilder?table_only=true&area=A');
                                 	});
                                 	
                                 	$('.toggle-shown-orders-radio').on('click', function(){
                                 		$('.toggle-shown-orders-radio').prop('checked',false);
                                 		$(this).prop('checked',true);
                                 		//processAjax('content', 'payment_center_rebuilder?table_only=true&area=A');
                                 	});
                                 	
                                 	$('#deposit-account-text-to-input').mouseover(function(){
                                 		textToInput('deposit-to-accounts-text','deposit-to-accounts-select');
                                 	});
                                 	
                                 	$('#deposit-account-text-to-input').mouseout(function(){
                                 		inputToText('deposit-to-accounts-text','deposit-to-accounts-select') 
                                 	});
                                 	
                                 	$('.rebuild-on-change').off('change');
                                 	$('.rebuild-on-change').on('change', function (){
                                 		//processAjax('content', 'payment_center_rebuilder?area=A');
                                 	});
                                 	
                                 	$('.rebuild-table-only-on-change').off('change');
                                 	$('.rebuild-table-only-on-change').on('change', function (){
                                 		//processAjax('content', 'payment_center_rebuilder?table_only=true&area=A');
                                 	});
                                 	
                                 	$('select#locations-select').multiselect({
                                 		includeSelectAllOption: true,
                                 		nonSelectedText: 'All Locations',
                                 		buttonContainer: '<div class="btn-group pn" ></div>',
                                 		buttonClass: 'btn btn-default btn-sm',
                                 		enableFiltering: true,
                                 		numberDisplayed: 0,
                                 		maxHeight: 300,
                                 		nSelectedText: ' Locations'
                                 	});
                                 	
                                 	$('#apply-on').datepicker();
                                 	$('#apply-on').mask('99/99/9999');
                                 	$('#apply-on').val('01/05/22');
                                 	
                                 	$('#show_orders_to').datepicker().on('changeDate', function(e) {
                                 		//processAjax('content', 'payment_center_rebuilder?table_only=true&area=A');
                                 	});
                                 	
                                 	$('#show_orders_to').mask('99/99/9999');
                                 	//$('#show_orders_to').val('01/05/22');
                                 	
                                 	$('#show_orders_from').datepicker().on('changeDate', function(e) {
                                 		//processAjax('content', 'payment_center_rebuilder?table_only=true&area=A');
                                 	});
                                 	
                                 	$('#show_orders_from').mask('99/99/9999');
                                 	//$('#show_orders_from').val('11/06/21');
                                 	
                                 	
                                 	$('#amount_input').on('focus', function (){
                                 		sumPaymentTablePayments(true);
                                 	});
                                 	
                                 	$('select.payment-method-select').multiselect({
                                 		buttonClass: 'btn btn-default btn-xs',
                                 		buttonContainer: '<div class="btn-group mt10 pull-right" ></div>',
                                 		enableFiltering: true,
                                 	});
                                 	
                                 	$('.make-payment').off('click');
                                 	$('.make-payment').on('click', function (){
                                 		//processAjax('content', 'payment_center_process?area=A');
                                 	});
                                 	
                                 	/*$('#amount_input').on('keyup blur', function(){
                                 		var total_amount = parseFloat($('#'+this.id).val().replace(/,/g, ''));
                                 		var amount_remaining = total_amount;
                                 		var amount_used = 0.00;
                                 		
                                 		//console.log(total_amount);
                                 		//console.log(amount_remaining);
                                 		
                                 		$('.payment_input').val('');
                                 		$('.payment_input').each(function(index, element) {
                                 			if(amount_remaining > 0.00)
                                 			{
                                 				var remaining_balance = parseFloat($('#remaining-balance-'+$(element).data("oid")).text());
                                 				
                                 				console.log(remaining_balance);
                                 				
                                 				if(remaining_balance > amount_remaining)
                                 				{
                                 					$(element).val(amount_remaining.toFixed(2));
                                 					amount_remaining = 0.00;
                                 				}
                                 				else
                                 				{
                                 					$(element).val(remaining_balance.toFixed(2));
                                 					amount_remaining -= remaining_balance;
                                 				}
                                 			}
                                            });
                                 		
                                 		sumPaymentTablePayments();
                                 	});*/
                                 	
                                 		});
                              </script>           	
                           </div>
                           <div id="payment_center_table_container" class="p10">

                              <table id="vendor-payment-list-table" class="table table-striped table-bordered table-hover table-condensed table-responsive dataTable" role="grid" aria-describedby="common-payment-center-table_info" style="width: 1435px;">
                                 <thead>
                                    <tr role="row">
                                       <th>Date</th>
                                       <th>PO #</th>
                                       <th>PI #</th>
                                       <th>PO Status</th>
                                       <th>Reference</th>
                                       <th>Total</th>
                                       <th>Paid</th>
                                       <th>Balance</th>
                                       <th>Amount</th>
                                       <th>Urgency Field</th>
                                       <th class="text-center sorting_disabled" rowspan="1" colspan="1" aria-label="" style="width: 56px;"><input id="check-all-row" type="checkbox" class="ml5"></th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr role="row" class="odd">
                                       <td>01/04/21</td>
                                       <td>11111</td>
                                       <td>11111</td>
                                       <td><span class="label label-success">Placeholder</span></td>
                                       <td>Reference</td>
                                       <td class="total-column text-right">10000</td>
                                       <td class="paid-column text-right">1000</td>
                                       <td class="balance-column text-right">100</td>
                                       <td  class="text-right">
                                         <input expected="9000" type="text" class="form-control input-sm payment_input" placeholder="$0.00">
                                       </td>
                                       <td class="text-center"><input type="checkbox"></td>
                                       <td class="text-center">
                                          <input type="checkbox" class="payment-center-table-row-checkbox check-row">
                                       </td>
                                    </tr>
                                    <tr role="row" class="odd">
                                       <td>02/04/21</td>
                                       <td>22222</td>
                                       <td>22222</td>
                                       <td><span class="label label-success">Placeholder</span></td>
                                       <td>Reference</td>
                                       <td class="total-column text-right">20000</td>
                                       <td class="paid-column text-right">2000</td>
                                       <td class="balance-column text-right">200</td>
                                       <td class="text-right">
                                         <input expected="18000" type="text" class="form-control input-sm payment_input" placeholder="$0.00">
                                       </td>
                                       <td class="text-center"><input type="checkbox"></td>
                                       <td class="text-center">
                                          <input type="checkbox" class="payment-center-table-row-checkbox check-row">
                                       </td>
                                    </tr>
                                    <tr role="row" class="odd">
                                       <td>03/04/21</td>
                                       <td>33333</td>
                                       <td>33333</td>
                                       <td><span class="label label-warning">Placeholder</span></td>
                                       <td>Reference</td>
                                       <td class="total-column text-right">30000</td>
                                       <td class="paid-column text-right">3000</td>
                                       <td class="balance-column text-right">300</td>
                                       <td class="text-right">
                                         <input expected="27000" type="text" class="form-control input-sm payment_input" placeholder="$0.00">
                                       </td>
                                       <td class="text-center"><input type="checkbox"></td>
                                       <td class="text-center">
                                          <input type="checkbox" class="payment-center-table-row-checkbox check-row">
                                       </td>
                                    </tr>
                                 </tbody>
                                 <tfoot>
                                    <tr>
                                       <th rowspan="1" colspan="1"></th>
                                       <th rowspan="1" colspan="1"></th>
                                       <th rowspan="1" colspan="1"></th>
                                       <th rowspan="1" colspan="1"></th>
                                       <th rowspan="1" colspan="1"></th>
                                       <th class="text-right p5" rowspan="1" colspan="1">$<span id="total_sum">00.00</span></th>
                                       <th class="text-right p5" rowspan="1" colspan="1">$<span id="paid_sum">00.00</span></th>
                                       <th class="text-right p5" rowspan="1" colspan="1">$<span id="balance_sum">00.00</span></th>
                                       <th class="text-right p5" rowspan="1" colspan="1">$<span id="amount_sum">00.00</span></th>
                                       <th rowspan="1" colspan="1"></th>
                                       <th rowspan="1" colspan="1"></th>
                                    </tr>
                                 </tfoot>
                              </table>
<!-- 
                              <script>
                                 function sumPaymentTableAmount()
                                 {
                                 	var amount_sum = 0;
                                 	// iterate through each td based on class and add the values
                                 	$(".amount_column").each(function() {
                                 	
                                 		var value = parseFloat($(this).text());
                                 		// add only if the value is number
                                 		if(!isNaN(value) && value.length != 0) {
                                 			amount_sum += value;
                                 		}
                                 	});
                                 	
                                 	$("#amount_column_total").html(addCommas(amount_sum.toFixed(2)));
                                 }
                                 
                                 function sumPaymentTableDue()
                                 {
                                 	var due_sum = 0;
                                 	// iterate through each td based on class and add the values
                                 	$(".due_column").each(function() {
                                 	
                                 		var value = parseFloat($(this).text());
                                 		// add only if the value is number
                                 		if(!isNaN(value) && value.length != 0) {
                                 			due_sum += value;
                                 		}
                                 	});
                                 	
                                 	$("#due_column_total").html(addCommas(due_sum.toFixed(2)));
                                 }
                                 
                                 function sumPaymentTablePayments(update_amount_input)
                                 {
                                 	var payment_sum = 0;
                                 	var out_of_balance_display = '';
                                 	
                                 
                                 	// iterate through each td based on class and add the values
                                 	$(".payment_input").each(function() {
                                 	
                                 		var value = $(this).val().replace(/,/g, '');
                                 		// add only if the value is number
                                 		if(!isNaN(value) && value.length != 0) {
                                 			payment_sum += parseFloat(value);
                                 		}
                                 	});
                                 	
                                 	if(update_amount_input && payment_sum > 0)
                                 	{
                                 		$("#amount_input").val(addCommas(payment_sum.toFixed(2)));
                                 	}
                                 	
                                 	var amount_input = parseFloat($('#amount_input').val().replace(/,/g, ''));
                                 	if(payment_sum.toFixed(2) != amount_input)
                                 	{
                                 		var discrepancy = amount_input - payment_sum.toFixed(2);
                                 		
                                 		if(!isNaN(discrepancy) & discrepancy != 0)
                                 		{
                                 			out_of_balance_display = '<span class="text-red3"><br/>('+discrepancy.toFixed(2)+' out of balance)</span>';
                                 		}
                                 	}
                                 	
                                 	$("#payment_input_total").html(addCommas(payment_sum.toFixed(2)));
                                 	$("#out_of_balance_display_container").html(out_of_balance_display);
                                 	
                                 	
                                 }
                                 
                                 function sumPaymentTable()
                                 {
                                 	sumPaymentTableAmount();
                                 	sumPaymentTableDue();
                                 	sumPaymentTablePayments(false);
                                 }
                                 
                                 $(function (){
                                 	var table = $('#common-payment-center-table').DataTable( {
                                 		"processing": false,
                                 		"serverSide": false,
                                 		"oLanguage": { 
                                 			"oPaginate": {"sPrevious": "", "sNext": ""},
                                 			 //"sInfo": 'Showing _END_ of _TOTAL_ Records.', 
                                 			 "sInfo": '_TOTAL_ Invoices.', 
                                 			 "sInfoEmpty": 'No Invoices Found.',
                                 			 "sEmptyTable": "No Invoices Found.",
                                 		},
                                 		"iDisplayLength": -1,
                                 		"order": [[ 0, "asc" ]],
                                 		"aLengthMenu": [[5, 10, 25, 50, -1], [5, 10, 25, 50, "All"]],
                                 		"sDom": '<"panel-menu dt-panelmenu"lfr><"clearfix">tip',
                                 		"oTableTools": {
                                 			"sSwfPath": ""//"/template_assets/vendor/plugins/datatables/extras/TableTools/media/swf/copy_csv_xls_pdf.swf"
                                 		},
                                 		"aoColumns":
                                        	[
                                 			{"bSortable": true}, 	//date/time
                                 			{"bSortable": true},	//order id
                                 			{"bSortable": true},	//po number
                                 			{"bSortable": true},	//location
                                 			{"bSortable": true},	//status
                                 			{"bSortable": true},	//payment status
                                 			{"bSortable": true},	//amount
                                 			{"bSortable": true},	//due
                                 			{"bSortable": true, "width": '20%'}, 	//payment
                                 			{"bSortable": false}, 	//actions
                                 		]
                                 	});
                                 	
                                 	$('.panel-menu.dt-panelmenu, #common-payment-center-table_paginate, #common-payment-center-table_info').hide();
                                 	
                                 	$('.panel-menu.dt-panelmenu').hide();
                                 	
                                 	$('#select-all-checkbox').on('click', function (){
                                 		$('.payment-center-table-row-checkbox').prop('checked', false);
                                 		
                                 		if($('#select-all-checkbox').is(":checked"))
                                 		{
                                 			$('.payment-center-table-row-checkbox').each(function(index, element) {
                                 				$(element).trigger('click');
                                 			});
                                 		}
                                 	});
                                 	
                                 	$('.payment_input').on('keyup', function(){
                                 		sumPaymentTablePayments(false);
                                 	});
                                 	
                                 	$('.payment-center-table-row-checkbox').on('click', function (){
                                 		$(this).closest('tr').find('input.payment_input').val('');
                                 		
                                 		var amount_remaining = parseFloat($('#amount_input').val().replace(/,/g, ''));
                                 		$('.payment_input').each(function(index, element) {
                                 			if(!$(element).closest('tr').find('input.payment-center-table-row-checkbox').is(':checked'))
                                 			{
                                 				$(element).val('');
                                 			}
                                 			else
                                 			{
                                 				amount_remaining-= $(element).val();
                                 			}
                                 		});
                                 		
                                 		if($(this).is(':checked'))
                                 		{
                                 			var remaining_balance = parseFloat($('#remaining-balance-'+$(this).data("oid")).text());
                                 			
                                 			if(remaining_balance > amount_remaining)
                                 			{
                                 				$(this).closest('tr').find('input.payment_input').val(amount_remaining.toFixed(2));
                                 			}
                                 			else
                                 			{
                                 				$(this).closest('tr').find('input.payment_input').val(remaining_balance.toFixed(2));
                                 			}
                                 			//$(this).closest('tr').find('.payment_input').val(amount_to_cover);
                                 		}
                                 		
                                 		sumPaymentTablePayments(false);
                                 	});
                                 	
                                 	if($('#show_po_numbers').is(':checked'))
                                 	{
                                 		$('.po_column').show();
                                 	}
                                 	
                                 	if($('#show_status_columns').is(':checked'))
                                 	{
                                 		$('.status_column').show();
                                 	}
                                 			
                                 	sumPaymentTable(false);
                                 });
                              </script>           	 -->
                           </div>
                           <div id="payment_center_table_footer_container">
                              <div class="row mt10 mb15">
                                 <div class="col-sm-6">
                                    <div class="col-sm-6">
                                       <textarea name="note" placeholder="Notes" class="form-control"></textarea>
                                    </div>
                                    <div class="col-sm-12 mt15">
                                       <input id="show_po_numbers" type="checkbox" onclick="$('.po_column').toggle()">
                                       <label for="show_po_numbers" class="mr5"><small>Show P.O. Numbers</small></label>
                                    </div>
                                    <div class="col-sm-12">
                                       <input id="show_status_columns" type="checkbox" onclick="$('.status_column').toggle()">
                                       <label for="show_status_columns" class="mr5"><small>Show Status Labels</small></label>
                                    </div>
                                    <div class="col-sm-12">
                                       <input id="show_pending_payments" name="show_pending_payments" type="checkbox">
                                       <label for="show_pending_payments" class="mr5"><small>Show Pending Payments</small></label>
                                    </div>
                                    <div class="col-sm-12">
                                       <input id="apply_color_coding" type="checkbox">
                                       <label for="apply_color_coding" class="mr5"><small>Apply Color Coding</small></label>
                                    </div>
                                    <div class="col-sm-12">
                                       <input id="show_paid_orders_from" type="hidden" name="show_paid_orders_from" value="11/06/21" />
                                       <input id="show_paid_orders_to" type="hidden" name="show_paid_orders_to" value="01/05/22" />
                                       <input id="show_paid_orders" name="show_paid_orders" type="checkbox" class="rebuild-table-only-on-change">
                                       <label for="show_paid_orders" class="mr5"><small>Show Paid Orders from <span id="paid_order_from_text" style="cursor:pointer;">11/06/21</span> to <span id="paid_order_to_text" style="cursor:pointer;">01/05/22</span></span> </small></label>
                                    </div>
                                 </div>
                                 <div class="col-sm-6">
                                    <div class="col-sm-12">
                                       <span id="accounts-receivable-emails" class="pull-right"></span>
                                    </div>
                                    <div class="col-sm-12">
                                       <span id="accounts-receivable-emails" class="pull-right"><strong>Accounts Receivable Email:</strong> kadry@optonline.net</span>
                                   </div>
                                    <div class="col-sm-12 mt10">
                                       <input id="send_email_receipt" name="send_email_receipt" type="checkbox" class="pull-right" checked>
                                       <label for="send_email_receipt" class="pull-right mr5"><small>Send Receipt Email</small></label>
                                    </div>
                                    <div class="col-sm-12">
                                       <a href="javascript:void(0)" class="btn bg-blue3 bg-gradient btn-sm pull-right make-payment">Make Payment</a>
                                    </div>
                                 </div>
                              </div>
                              <script>
                                 $(function(){
                                 	$('#paid_order_from_input').datepicker();
                                 	$('#paid_order_from_input').mask('99/99/9999');
                                 	$('#paid_order_from_input').val('11/06/21');
                                 	
                                 	$('#paid_order_to_input').datepicker();
                                 	$('#paid_order_to_input').mask('99/99/9999');
                                 	$('#paid_order_to_input').val('01/05/22');
                                 	
                                 	$('#paid_order_from_text').editable({
                                 		 showbuttons: false,
                                 		 format: 'yyyy-mm-dd',    
                                 		 viewformat: 'mm/dd/yy',    
                                 		 datepicker: {
                                 			firstDay: 1
                                 		 },
                                 		 type: 'date',
                                 		 name: 'show_paid_orders_from_xeditable',
                                 		 title: 'Show paid orders from',
                                 		 success: function(response, newValue) {
                                 			$('#show_paid_orders_from').val(newValue);
                                 			
                                 			if($('#show_paid_orders').is(':checked'))
                                 			{
                                 				//processAjax('content', 'payment_center_rebuilder?table_only=true&area=A');
                                 			}
                                 			//userModel.set('username', newValue); //update backbone model
                                 		}
                                 	});
                                 	
                                 	$('#paid_order_to_text').editable({
                                 		 showbuttons: false,
                                 		 format: 'yyyy-mm-dd',    
                                 		 viewformat: 'mm/dd/yy',    
                                 		 datepicker: {
                                 			firstDay: 1
                                 		 },
                                 		 type: 'date',
                                 		 name: 'show_paid_orders_to_xeditable',
                                 		 title: 'Show paid orders until',
                                 		 success: function(response, newValue) {
                                 			$('#show_paid_orders_to').val(newValue);
                                 			
                                 			if($('#show_paid_orders').is(':checked'))
                                 			{
                                 				//processAjax('content', 'payment_center_rebuilder?table_only=true&area=A');
                                 			}
                                 			//userModel.set('username', newValue); //update backbone model
                                 		}
                                 	});
                                 	
                                 	$('#show_pending_payments').on('click', function (){
                                 		//processAjax('content', 'payment_center_rebuilder?table_only=true&area=A');
                                 	});
                                 	
                                 	/*$('#paid-order-to-from-input-container').mouseover(function(){
                                 		textToInput('paid_order_from_text','paid_order_from_input');
                                 		textToInput('paid_order_to_text','paid_order_to_input');
                                 	});
                                 	
                                 	$('#paid-order-to-from-input-container').mouseout(function(){
                                 		inputToText('paid_order_from_text','paid_order_from_input');
                                 		inputToText('paid_order_to_text','paid_order_to_input');
                                 	});*/
                                 });
                              </script>           	
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
            </section>
         </div>
      </div>
      <!-- End #Main -->


      <!-- Make payment popup -->
      <div class="modal" tabindex="-1" role="dialog">
         <div class="modal-dialog" role="document">
           <div class="modal-content">
             <div class="modal-body">
               <form>
                  <p>Upload document for proof of payment</p>
                  <input type="file">
                  <div style="padding-top: 20px;">
                     <a href="javascript:void(0)" class="btn bg-blue3 bg-gradient btn-sm mb10 upload-payment-proof">Upload</a>
                     <a href="javascript:void(0)" class="btn bg-delete bg-gradient btn-sm mb10 cancel-upload-payment-proof">Cancel</a>
                  </div>
               </form>
             </div>
           </div>
         </div>
       </div>



      <!-- TODO Clean up asset management -->
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/vendor/plugins/raphael/raphael.js"></script>
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/vendor/plugins/morris/morris.js"></script>
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/vendor/plugins/multiselect/bootstrap-multiselect.js"></script>
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/vendor/plugins/datatables/js/jquery.dataTables.min.js"></script>
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/vendor/plugins/datatables/js/datatables.js"></script>
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/vendor/plugins/datatables/extras/TableTools/media/js/TableTools.min.js"></script>
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/vendor/plugins/jvectormap/jquery-jvectormap.min.js"></script>
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/vendor/plugins/jvectormap/assets/jquery-jvectormap-us-lcc-en.js"></script>
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/vendor/plugins/clndr/clndr.js"></script>
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/vendor/plugins/clndr/moment.js"></script>
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/vendor/plugins/chosen/chosen.jquery.js"></script>
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/vendor/plugins/uploadify/jquery.uploadifive.min.js"></script>
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/vendor/editors/xeditable/js/bootstrap-editable.js"></script>
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/vendor/editors/xeditable/js/select2.full.js"></script>
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/vendor/plugins/datepicker/bootstrap-datepicker.js"></script>
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/vendor/plugins/jquerymask/jquery.maskedinput.min.js"></script>
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/js/followbox.js"></script>
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/js/jquery.autocompleter.js"></script>
      <!-- Print.js plugin  -->
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/js/print.min.js"></script>
      <!-- JQuery Format Currency Plugin-->
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/js/jquery.formatCurrency-1.4.0.min.js"></script>
      <!-- Flot Plugins  -->
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/vendor/plugins/jqueryflot/jquery.flot.min.js"></script>
      <!-- JQuery Gritter  -->
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/vendor/plugins/gritter/jquery.gritter.min.js"></script>
      <!-- Editor Plugins  -->
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/vendor/editors/summernote/summernote.js"></script>
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/vendor/editors/ckeditor/ckeditor.js"></script>
      <!-- jQuery EAN 13 Barcode https://www.jqueryscript.net/other/Simple-jQuery-Based-Barcode-Generator-Barcode.html-->
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/js/jquery-barcode.min.js"></script>
      <!-- Theme Javascript -->
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/js/utility/spin.min.js"></script>
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/js/utility/underscore-min.js"></script>
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/js/main.js"></script>
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/js/app.js?v=31"></script>
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/js/ajax.js?v=6"></script>


      <!-- New javascript codes -->
      <script>
         $(document).ready( function () {

            //Create sortable data table
            $('#vendor-payment-list-table').DataTable({
               "paging":   false,
               "searching": false,
               "info": false
            });

            //Total sum
            var totalSum = 0;
            $('.total-column').each(function(){
               var amount = $(this).text();
               totalSum += parseFloat(amount);
            });
            $('#total_sum').html(totalSum.toFixed(2));


            // Paid sum
            var paidSum = 0;
            $('.paid-column').each(function(){
               var amount = $(this).text();
               paidSum += parseFloat(amount);
            });
            $('#paid_sum').html(paidSum.toFixed(2));


            // Balance sum
            var balanceSum = 0;
            $('.balance-column').each(function(){
               var amount = $(this).text();
               balanceSum += parseFloat(amount);
            });
            $('#balance_sum').html(balanceSum.toFixed(2));

            //Amount sum
            function amountSum(){
               var amount = 0;
               $('.payment_input').each(function(){
                  var value = $(this).val();
                  if(value){
                     amount += parseFloat(value);
                  }
               });
               $('#amount_sum').html(amount.toFixed(2));
            }


            //Check boxes
            $('.check-row').change(function(){
               var state = $(this).is(":checked");
               if(state){
                  var value = $(this).parent().parent().find('.payment_input').attr('expected');
                  $(this).parent().parent().find('.payment_input').val(value);
               }else{
                  $(this).parent().parent().find('.payment_input').val(0);
               }
               amountSum();
            });

            $('#check-all-row').change(function(){
               var state = $(this).is(":checked");
               if(state){
                  $('.check-row').each(function(){
                     $(this).prop( "checked", true );
                  });

                  $('.payment_input').each(function(){
                     var value = $(this).attr('expected')
                     $(this).val(value);
                  });
               }else{
                  $('.check-row').each(function(){
                     $(this).prop( "checked", false );
                  });

                  $('.payment_input').each(function(){
                     $(this).val(0);
                  });
               }
               amountSum();
            });

            // Amount field
            $('.payment_input').keyup(function(){
               amountSum();
            });

            //Make payment
            $('.make-payment').click(function(){
               $('.modal').modal('show');
            });

            $('.upload-payment-proof').click(function(){
               console.log('Uploading');
               $('.modal').modal('hide');
            });

            $('.cancel-upload-payment-proof').click(function(){
               $('.modal').modal('hide');
            });

         });
      </script>
   </body>
</html>