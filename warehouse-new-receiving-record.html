<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="csrf-token" content="TD6wU8D55lL3dQwMA93D9nfl9GEdNB1oRUGNSURH" />
      <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
      <link rel="apple-touch-icon" sizes="57x57" href="https://www.onesourcesuppliers.com/assets/img/favicon2/apple-icon-57x57.png">
      <link rel="apple-touch-icon" sizes="60x60" href="https://www.onesourcesuppliers.com/assets/img/favicon2/apple-icon-60x60.png">
      <link rel="apple-touch-icon" sizes="72x72" href="https://www.onesourcesuppliers.com/assets/img/favicon2/apple-icon-72x72.png">
      <link rel="apple-touch-icon" sizes="76x76" href="https://www.onesourcesuppliers.com/assets/img/favicon2/apple-icon-76x76.png">
      <link rel="apple-touch-icon" sizes="114x114" href="https://www.onesourcesuppliers.com/assets/img/favicon2/apple-icon-114x114.png">
      <link rel="apple-touch-icon" sizes="120x120" href="https://www.onesourcesuppliers.com/assets/img/favicon2/apple-icon-120x120.png">
      <link rel="apple-touch-icon" sizes="144x144" href="https://www.onesourcesuppliers.com/assets/img/favicon2/apple-icon-144x144.png">
      <link rel="apple-touch-icon" sizes="152x152" href="https://www.onesourcesuppliers.com/assets/img/favicon2/apple-icon-152x152.png">
      <link rel="apple-touch-icon" sizes="180x180" href="https://www.onesourcesuppliers.com/assets/img/favicon2/apple-icon-180x180.png">
      <link rel="icon" type="image/png" sizes="192x192"  href="https://www.onesourcesuppliers.com/assets/img/favicon2/android-icon-192x192.png">
      <link rel="icon" type="image/png" sizes="32x32" href="https://www.onesourcesuppliers.com/assets/img/favicon2/favicon-32x32.png">
      <link rel="icon" type="image/png" sizes="96x96" href="https://www.onesourcesuppliers.com/assets/img/favicon2/favicon-96x96.png">
      <link rel="icon" type="image/png" sizes="16x16" href="https://www.onesourcesuppliers.com/assets/img/favicon2/favicon-16x16.png">
      <!-- <link rel="manifest" href="https://www.onesourcesuppliers.com/assets/img/favicon2/manifest.json"> -->
      <meta name="msapplication-TileColor" content="#ffffff">
      <meta name="msapplication-TileImage" content="https://www.onesourcesuppliers.com/assets/img/favicon2/ms-icon-144x144.png">
      <meta name="theme-color" content="#ffffff">
      <title>One Source Suppliers</title>
      <!-- Font CSS (Via CDN) -->
      <link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,800'>
      <link href="https://www.onesourcesuppliers.com/css/jquery.autocompleter.css" rel="stylesheet">
      <!-- <link rel="stylesheet" type="text/css" href="https://www.onesourcesuppliers.com/template_assets/vendor/plugins/datatables/css/datatables.min.css"> -->
      <link rel="stylesheet" type="text/css" href="https://www.onesourcesuppliers.com/template_assets/vendor/plugins/datatables/extras/TableTools/media/css/TableTools.css">
      <!-- <link rel="stylesheet" type="text/css" href="https://www.onesourcesuppliers.com/css/vendor/editors/xeditable/bootstrap-editable.css"> -->
      <link href="https://www.onesourcesuppliers.com/template_assets/vendor/editors/xeditable/css/bootstrap-editable.css" rel="stylesheet">
      <!--<link href="https://www.onesourcesuppliers.com/css/app.css" rel="stylesheet">-->
      <!--<link href="https://www.onesourcesuppliers.com/css/bootstrap.min.css" rel="stylesheet">-->
      <!-- <link href="https://www.onesourcesuppliers.com/template_assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet"> -->
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
      <link href="https://www.onesourcesuppliers.com/template_assets/vendor/editors/xeditable/css/select2.min.css" rel="stylesheet">
      <link href="https://www.onesourcesuppliers.com/css/vendor/plugins/jquery.gritter.css" rel="stylesheet">
      <link href="https://www.onesourcesuppliers.com/css/vendor.css" rel="stylesheet">
      <link href="https://www.onesourcesuppliers.com/css/admin/theme.css" rel="stylesheet">
      <link href="https://www.onesourcesuppliers.com/css/utility.css" rel="stylesheet">
      <link id="galleria-theme" rel="stylesheet" href="https://www.onesourcesuppliers.com/template_assets/vendor/plugins/galleria/themes/classic/galleria.classic.css">
      <link href="https://www.onesourcesuppliers.com/css/followbox.css" rel="stylesheet">
      <link href="https://www.onesourcesuppliers.com/css/print.min.css" rel="stylesheet">
      <link href="https://www.onesourcesuppliers.com/css/admin/custom.css?v9" rel="stylesheet">
      <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
      <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
      <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
      <![endif]-->
      <!-- Basic, universally applicable JS includes-->
      <script src="https://www.onesourcesuppliers.com/js/jquery-2.1.3.min.js"></script>
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/vendor/jquery/jquery_ui/jquery-ui.min.js"></script> <!-- Bootstrap -->
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/vendor/bootstrap/js/bootstrap.min.js"></script>
      <!-- Dirty form detection -->
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/js/jquery.dirty.js"></script>
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.12.6/css/selectize.bootstrap3.min.css" integrity="sha256-ze/OEYGcFbPRmvCnrSeKbRTtjG4vGLHXgOqsyLFTRjg=" crossorigin="anonymous" />
      <!-- New Scripts for this page -->
      <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
      <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
      <script src="https://code.jquery.com/ui/1.13.0/jquery-ui.js"></script>
      <script src="js/vue@2.6.14.js"></script>
      <link rel="stylesheet" href="css/new-styles.css">
   </head>
   <body>
      <div class="admin-body-container container-fluid">
         <script> //var boxtest = localStorage.getItem('boxed'); if (boxtest === 'true') {document.body.className+=' boxed-layout';} </script>
         <nav class="navbar navbar-default">
            <div class="container-fluid">
               <!-- Brand and toggle get grouped for better mobile display -->
               <div class="navbar-header">
                  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button>
                  <a class="navbar-brand" href="/admin">One Source</a> 
               </div>
               <!-- Collect the nav links, forms, and other content for toggling -->
               <div class="collapse navbar-collapse-lg" id="bs-example-navbar-collapse-1">
                  <ul class="nav navbar-nav">
                     <li class="active"><a href="/admin">Dashboard <span class="sr-only">Dashboard</span></a></li>
                     <li><a href="/">Storefront</a></li>
                     <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Inventory <span class="caret"></span></a>
                        <ul class="dropdown-menu">
                           <li><a class="ajax-disable" href="/vendors">Vendors</a></li>
                           <li><a class="ajax-disable" href="/inventory_warehouses">Warehouses</a></li>
                           <li><a class="ajax-disable" href="/purchase_order_payment_terms">Payment Terms </a></li>
                           <li><a class="ajax-disable" href="/purchase_order_shipping_methods">Shipping Methods </a></li>
                           <li><a class="ajax-disable" href="/purchase_orders">Purchase Orders </a></li>
                           <li><a class="ajax-disable" href="/inventory_receiving_records">Receiving </a></li>
                        </ul>
                     </li>
                     <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Catalog <span class="caret"></span></a>
                        <ul class="dropdown-menu">
                           <!--<li class="divider"></li>
                              <li><a class="ajax-enable" href="/product_rules">Product Rules</a></li>--> 
                           <li><a class="ajax-enable" href="/categories">Categories</a></li>
                           <!--<li class="divider"></li>
                              <li><a class="ajax-enable" href="/options">Options</a></li>-->
                           <li><a class="ajax-disable" href="/features">Features</a></li>
                           <li><a class="ajax-disable" href="/menus">Menus </a></li>
                           <li><a class="ajax-disable" href="/pages">Pages </a></li>
                           <li><a class="ajax-disable" href="/manufacturers">Manufacturers</a></li>
                           <!-- <li><a class="ajax-enable" href="/shipping_methods">Shipping Methods</a></li> -->
                           <li><a class="ajax-disable" href="/products">Products </a></li>
                           <li><a class="ajax-disable" href="/product_locations">Product Locations </a></li>
                           <li><a class="ajax-disable" href="/email_composer">Email Composer</a></li>
                        </ul>
                     </li>
                     <li class=""><a href="/rma_processing">RMA Center <span class="sr-only">RMA Center</span></a></li>
                     <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Reports <span class="caret"></span></a>
                        <ul class="dropdown-menu">
                           <li><a class="ajax-disable" href="/items_sold">Items Sold</a></li>
                           <li><a class="ajax-disable" href="/inventory_report">Inventory</a></li>
                           <li><a class="ajax-disable" href="/stock_monitor">Stock Monitor</a></li>
                        </ul>
                     </li>
                  </ul>
                  <ul class="nav navbar-nav navbar-right">
                     <li><a>Hi Shusanto</a></li>
                     <li><a href="/users/2666">Profile</a></li>
                     <li><a href="https://www.onesourcesuppliers.com/auth/logout">Sign Out</a></li>
                     <!-- Clean up this inline and follow-box sh*t
                        <div class="btn-group" id="comment_menu">
                        	<a class="dropdown-toggle" data-toggle="dropdown" title="Notepad"  onclick="togglefollowBoxGrowth(this);"><b id="notepad-note-count" style="display:none;">0</b> Notepad</a>
                        	<div class="dropdown-menu" role="menu" style="width:450px;">
                        		<div class="followbox-content pn dropdown-persist">
                        			<div id="notes"></div>
                        		</div>
                        	 </div>
                        </div>
                                       --> 
                  </ul>
               </div>
               <!-- /.navbar-collapse --> 
            </div>
            <!-- /.container-fluid --> 
         </nav>
         <!-- Start: Main -->
         <div id="main" class="receiving-record">
            <!-- Start: Content -->
            <section id="content_wrapper">
               <div id="content_wrapper_inner">
                  <div class="row">
                     <div class="col-md-6">
                        <ol class="breadcrumb">
                           <li><a href="/admin">Dashboard</a></li>
                           <li class="active">Warehouse receiving record</li>
                        </ol>
                     </div>
                     <div class="col-md-6">
                        <div class="text-right" v-if="pageState == 'content'">
                           <a class="ajax-enable btn btn-default btn-gradient btn-sm mr5" href="#">Cancel</a>
                           <a id="topbar-save-button" class="btn bg-blue3 bg-gradient btn-sm" @click="save">Confirm</a>
                        </div>
                     </div>
                  </div>
                  <div id="content">
                     <div class="warehouse-init-form" v-if="pageState == 'initForm'">
                        <form style="text-align: center;" @submit.prevent="fetchProducts">
                           <div class="inline-form-field weight"><input v-model="initForm.trackingNumber" type="nummber" placeholder="Tracking Number" class="form-control" style="width: 100%;"></div>
                           <label style="margin-bottom: 20px;">Or</label>
                           <div class="inline-form-field weight"><input v-model="initForm.shippingManifestNumber" type="number" placeholder="Shipping Manifest Number" class="form-control" style="width: 100%;"></div>
                           <button class="add-box-save" style="margin: 0 auto;">Continue</button>
                     </div>
                     </form>
                  </div>
                  <div class="row-fluid" v-if="pageState == 'content'">
                     <form id="create-inventory_receiving_record">
                        <div class="panel-heading panel-visible mb-20">
                           <span class="panel-title">Products</span>
                           <div id="order-header-actions-container" class="panel-header-menu pull-right mr10">
                              <a @click="reciveAll" class="tooltip-element btn btn-default btn-xs ajax-disabled" id="receive-all" data-placement="left" data-original-title="Receive All Inventory" href="javascript:void(0);"> Receive All </a>
                           </div>
                        </div>
                        <!-- Product boxes -->
                        <div class="product-boxes">
                           <div class="box" v-for="(box, i) in productBoxes" :key="i">
                              <div class="box-heading" @click.self="toggleContent(i)">
                                 <div @click="toggleContent(i)">Number of Boxes: {{ box.numberOfBoxes }}</div>
                                 <div @click="toggleContent(i)" class="sku-list">
                                    <span>SKU:</span>
                                    <span class="box-sku-numbers">
                                    <span v-for="(subItem, i) in box.subItems" :key="i" class="box-sku-number">{{ subItem.sku }} ({{ subItem.qty}})</span>
                                    </span>
                                    <span>{{ '&nbsp;&nbsp;-&nbsp;'+totalSkuInThisBox(i) }}</span>
                                 </div>
                                 <div class="number_of_boxes_recived_field"  @click.self="toggleContent(i)">
                                    <label :for="'number_of_boxes_recived_'+i">Number of boxes received</label>
                                    <input :id="'number_of_boxes_recived_'+i" v-model="box.boxWishToRecive" @keyup="checkIfInvalid(i)" type="number" class="form-control">
                                    <input type="checkbox" @change="reciveThisBoxFully(i)" v-model="box.checkedAll">
                                 </div>
                                 <div class="box-action-buttons">
                                    <i class="fa fa-bell-o" v-bind:class="{ invalid: checkIfInvalid(i) || checkSkuValidity(i) }" aria-hidden="true"></i>
                                 </div>
                              </div>
                              <div class="box-content" v-if="box.expanded">
                                 <div class="product-sub-boxes">
                                    <p v-if="!box.subItems || box.subItems.length <= 0">No sub items</p>
                                    <div class="product-sub-box" v-for="(subItem, i) in box.subItems" :key="i">
                                       <div>SKU: {{subItem.sku}}</div>
                                       <div>QTY: {{subItem.qty}}</div>
                                       <div>
                                          <div class="number_of_boxes_recived_field">
                                             <label :for="'qty_recived_'+productBoxes.indexOf(box)+'_'+i">QTY Recived:</label> 
                                             <input @keyup="checkSkuValidity(productBoxes.indexOf(box))" v-bind:class="{ error: subItem.qtyReviced > subItem.qty }"v-model="subItem.qtyReviced" :id="'qty_recived_'+productBoxes.indexOf(box)+'_'+i" type="number" class="form-control"> 
                                             <!-- <input type="checkbox"> -->
                                          </div>
                                          <!-- QTY Recived : <input v-model="subItem.qtyReviced" type="number" class="form-control"> -->
                                       </div>
                                       <div>Cost per Item: {{subItem.costPerItem}}</div>
                                    </div>
                                 </div>
                              </div>
                           </div>
                        </div>
                        <!-- / Product boxes -->
                        <!--  Partialy recived popup -->
                        <div class="add-box-form-wrap" v-if="partiallyRecived" v-bind:class="{ active: partiallyRecived }">
                           <div class="add-box-outer" @click="closePartiallyRecivedPopup"></div>
                           <div class="add-box-form-inner generate-bill-popup">
                              <p>Allocate items towards POs</p>
                              <div class="generate-bill-popup-buttons">
                                 <button @click.prevent="allocateItemsTowardsPos">Proceed</button>
                                 <button @click.prevent="closePartiallyRecivedPopup">Cancel</button>
                              </div>
                           </div>
                        </div>
                        <!--  Partialy recived popup -->
                        <script>
                           // $(function () {
                           // 	$('.inject-purchase-order-details').on('change', function(){
                           // 		processAjax('inventory-receiving-record-form-container', 'inventory_receiving_records/inject_purchase_order');
                           // 	});
                           	
                           // 	$('.purchase-order-datepicker').datepicker({ "setDate": new Date() });
                           // 	$('.purchase-order-datepicker').mask('99/99/9999');
                           
                           //        	});
                        </script>            
                     </form>
                  </div>
               </div>
         </div>
         </section>
      </div>
      </div>
      <!-- End #Main -->
      <!-- TODO Clean up asset management -->
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/vendor/plugins/raphael/raphael.js"></script>
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/vendor/plugins/morris/morris.js"></script>
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/vendor/plugins/multiselect/bootstrap-multiselect.js"></script>
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/vendor/plugins/datatables/js/jquery.dataTables.min.js"></script>
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/vendor/plugins/datatables/js/datatables.js"></script>
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/vendor/plugins/datatables/extras/TableTools/media/js/TableTools.min.js"></script>
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/vendor/plugins/jvectormap/jquery-jvectormap.min.js"></script>
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/vendor/plugins/jvectormap/assets/jquery-jvectormap-us-lcc-en.js"></script>
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/vendor/plugins/clndr/clndr.js"></script>
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/vendor/plugins/clndr/moment.js"></script>
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/vendor/plugins/chosen/chosen.jquery.js"></script>
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/vendor/plugins/uploadify/jquery.uploadifive.min.js"></script>
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/vendor/editors/xeditable/js/bootstrap-editable.js"></script>
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/vendor/editors/xeditable/js/select2.full.js"></script>
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/vendor/plugins/datepicker/bootstrap-datepicker.js"></script>
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/vendor/plugins/jquerymask/jquery.maskedinput.min.js"></script>
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/js/followbox.js"></script>
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/js/jquery.autocompleter.js"></script>
      <!-- Print.js plugin  -->
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/js/print.min.js"></script>
      <!-- JQuery Format Currency Plugin-->
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/js/jquery.formatCurrency-1.4.0.min.js"></script>
      <!-- Flot Plugins  -->
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/vendor/plugins/jqueryflot/jquery.flot.min.js"></script>
      <!-- JQuery Gritter  -->
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/vendor/plugins/gritter/jquery.gritter.min.js"></script>
      <!-- Editor Plugins  -->
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/vendor/editors/summernote/summernote.js"></script>
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/vendor/editors/ckeditor/ckeditor.js"></script>
      <!-- jQuery EAN 13 Barcode https://www.jqueryscript.net/other/Simple-jQuery-Based-Barcode-Generator-Barcode.html-->
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/js/jquery-barcode.min.js"></script>
      <!-- Theme Javascript -->
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/js/utility/spin.min.js"></script>
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/js/utility/underscore-min.js"></script>
      <!-- <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/js/main.js"></script> -->
      <!-- <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/js/app.js?v=31"></script> -->
      <script type="text/javascript" src="https://www.onesourcesuppliers.com/template_assets/js/ajax.js?v=6"></script>
      <!-- New Scripts for this page -->
      <script src="js/warehouse-new-receiving-record.js"></script>
   </body>
</html>